
WebAssembly.validate tests
Test 0: Expected Error: TypeError: Object expected
Test 1: Expected Error: TypeError: BufferSource expected
Test 2: Expected Error: TypeError: BufferSource expected
Test 3: Expected Error: TypeError: BufferSource expected
Test 4: Expected Error: TypeError: BufferSource expected
Test 5: Expected Error: TypeError: BufferSource expected
Test 6: Expected Error: TypeError: BufferSource expected
Test 7: Expected Error: TypeError: BufferSource expected
Test 8: Expected Error: Error: Buffer source is the right type, but doesn't validate
Test 9: Expected Error: TypeError: BufferSource expected
Validate: true

WebAssembly.compile tests
Test 0: Expected Error: TypeError: Object expected
Test 1: Expected Error: TypeError: BufferSource expected
Test 2: Expected Error: TypeError: BufferSource expected
Test 3: Expected Error: TypeError: BufferSource expected
Test 4: Expected Error: TypeError: BufferSource expected
Test 5: Expected Error: TypeError: BufferSource expected
Test 6: Expected Error: TypeError: BufferSource expected
Test 7: Expected Error: TypeError: BufferSource expected
Test 8: Expected Error: WebAssemblyCompileError: Compiling wasm failed: Invalid LEB128 format
Test 9: Expected Error: TypeError: BufferSource expected
Testing module
exports
[{"kind":"function", "name":"fn"}, {"kind":"global", "name":"g1"}, {"kind":"function", "name":"f1"}, {"kind":"global", "name":"g2"}, {"kind":"table", "name":"table"}, {"kind":"function", "name":"fn2"}, {"kind":"function", "name":"call_i32"}, {"kind":"memory", "name":"mem"}, {"kind":"function", "name":"call_f32"}, {"kind":"global", "name":"g3"}, {"kind":"function", "name":"load"}]
imports
[{"kind":"function", "module":"test", "name":"fn"}, {"kind":"function", "module":"test", "name":"fn2"}, {"kind":"memory", "module":"test", "name":"memory"}, {"kind":"global", "module":"test", "name":"g1"}, {"kind":"global", "module":"test", "name":"g2"}, {"kind":"table", "module":"table", "name":""}]

WebAssembly.instantiate tests
Test 0: Expected Error: TypeError: Object expected
Test 1: Expected Error: TypeError: BufferSource expected
Test 2: Expected Error: TypeError: BufferSource expected
Test 3: Expected Error: TypeError: BufferSource expected
Test 4: Expected Error: TypeError: BufferSource expected
Test 5: Expected Error: TypeError: BufferSource expected
Test 6: Expected Error: TypeError: BufferSource expected
Test 7: Expected Error: TypeError: BufferSource expected
Test 8: Expected Error: WebAssemblyCompileError: Compiling wasm failed: Invalid LEB128 format
Test 9: Expected Error: TypeError: BufferSource expected
Test 10: Expected Error: TypeError: Object expected
Test 11: Expected Error: TypeError: Object expected
Test 12: Expected Error: TypeError: Object expected
Test 13: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Test 14: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Test 15: Expected Error: TypeError: Object expected
Test 16: Expected Error: TypeError: Object expected
Test 17: Expected Error: TypeError: Object expected
Test 18: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Test 19: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Testing module
exports
[{"kind":"function", "name":"fn"}, {"kind":"global", "name":"g1"}, {"kind":"function", "name":"f1"}, {"kind":"global", "name":"g2"}, {"kind":"table", "name":"table"}, {"kind":"function", "name":"fn2"}, {"kind":"function", "name":"call_i32"}, {"kind":"memory", "name":"mem"}, {"kind":"function", "name":"call_f32"}, {"kind":"global", "name":"g3"}, {"kind":"function", "name":"load"}]
imports
[{"kind":"function", "module":"test", "name":"fn"}, {"kind":"function", "module":"test", "name":"fn2"}, {"kind":"memory", "module":"test", "name":"memory"}, {"kind":"global", "module":"test", "name":"g1"}, {"kind":"global", "module":"test", "name":"g2"}, {"kind":"table", "module":"table", "name":""}]
Testing instance
f1: 5
fn: 1
fn2: 2.140000104904175
g1: 45
g2: -8
g3: 45
Testing module
exports
[{"kind":"function", "name":"fn"}, {"kind":"global", "name":"g1"}, {"kind":"function", "name":"f1"}, {"kind":"global", "name":"g2"}, {"kind":"table", "name":"table"}, {"kind":"function", "name":"fn2"}, {"kind":"function", "name":"call_i32"}, {"kind":"memory", "name":"mem"}, {"kind":"function", "name":"call_f32"}, {"kind":"global", "name":"g3"}, {"kind":"function", "name":"load"}]
imports
[{"kind":"function", "module":"test", "name":"fn"}, {"kind":"function", "module":"test", "name":"fn2"}, {"kind":"memory", "module":"test", "name":"memory"}, {"kind":"global", "module":"test", "name":"g1"}, {"kind":"global", "module":"test", "name":"g2"}, {"kind":"table", "module":"table", "name":""}]
Testing instance
f1: 5
fn: 1
fn2: 2.140000104904175
g1: 45
g2: -8
g3: 45

new WebAssembly.Module tests
Test 0: Expected Error: TypeError: WebAssembly.Module: cannot be called without the new keyword
Test 1: Expected Error: TypeError: WebAssembly.Module: cannot be called without the new keyword
Test 2: Expected Error: TypeError: Object expected
Test 3: Expected Error: TypeError: BufferSource expected
Test 4: Expected Error: TypeError: BufferSource expected
Test 5: Expected Error: TypeError: BufferSource expected
Test 6: Expected Error: TypeError: BufferSource expected
Test 7: Expected Error: TypeError: BufferSource expected
Test 8: Expected Error: TypeError: BufferSource expected
Test 9: Expected Error: TypeError: BufferSource expected
Test 10: Expected Error: WebAssemblyCompileError: Compiling wasm failed: Invalid LEB128 format
Test 11: Expected Error: TypeError: BufferSource expected
Testing module
exports
[{"kind":"function", "name":"fn"}, {"kind":"global", "name":"g1"}, {"kind":"function", "name":"f1"}, {"kind":"global", "name":"g2"}, {"kind":"table", "name":"table"}, {"kind":"function", "name":"fn2"}, {"kind":"function", "name":"call_i32"}, {"kind":"memory", "name":"mem"}, {"kind":"function", "name":"call_f32"}, {"kind":"global", "name":"g3"}, {"kind":"function", "name":"load"}]
imports
[{"kind":"function", "module":"test", "name":"fn"}, {"kind":"function", "module":"test", "name":"fn2"}, {"kind":"memory", "module":"test", "name":"memory"}, {"kind":"global", "module":"test", "name":"g1"}, {"kind":"global", "module":"test", "name":"g2"}, {"kind":"table", "module":"table", "name":""}]

new WebAssembly.Instance tests
Test 0: Expected Error: TypeError: WebAssembly.Instance: cannot be called without the new keyword
Test 1: Expected Error: TypeError: WebAssembly.Instance: cannot be called without the new keyword
Test 2: Expected Error: TypeError: Object expected
Test 3: Expected Error: TypeError: Object expected
Test 4: Expected Error: TypeError: Object expected
Test 5: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Test 6: Expected Error: TypeError: Unable to get property 'fn' of undefined or null reference
Test 7: Expected Error: TypeError: Function expected
Test 8: Expected Error: TypeError: Function called with invalid signature
Test 9: Expected Error: TypeError: WebAssembly.Memory object expected
Test 10: Expected Error: TypeError: WebAssembly.Memory object expected
Test 11: Expected Error: TypeError: WebAssembly.Memory object expected
Test 12: Expected Error: TypeError: WebAssembly.Table object expected
Test 13: Expected Error: TypeError: WebAssembly.Table object expected
Test 14: Expected Error: TypeError: WebAssembly.Table object expected
Testing instance
f1: 5
fn: 1
fn2: 2.140000104904175
g1: 45
g2: -8
g3: 45

WebAssembly.Memory tests
Test 0: Expected Error: TypeError: WebAssembly.Memory: cannot be called without the new keyword
Test 1: Expected Error: TypeError: 'memoryDescriptor' is null or not an object
Test 2: Expected Error: TypeError: 'memoryDescriptor' is null or not an object
Test 3: Expected Error: TypeError: 'memoryDescriptor' is null or not an object
Test 4: Expected Error: TypeError: WebAssembly.Memory object expected
Test 5: Expected Error: TypeError: WebAssembly.Memory object expected
Test 6: Expected Error: TypeError: WebAssembly.Memory object expected
Test 7: Expected Error: TypeError: WebAssembly.Memory object expected
Test 8: Expected Error: TypeError: WebAssembly.Memory object expected
Test 9: Expected Error: TypeError: WebAssembly.Memory object expected
0x33323130 == "0123"
0x37363534 == "4567"
0x3938 == "89"
heap32[0] = 45
memory.buffer.byteLength = 65536 == 65536
view32[16383] = 0x12345678
view32[16384] = undefined
heap[65532] = 0x12345678
Correctly trap on heap access at 65533
Correctly trap on heap access at 65534
Correctly trap on heap access at 65535
Correctly trap on heap access at 65536
grow by 1 page
memory.buffer.byteLength = 131072 == 2 * 65536
view32[32767] = 0x-789abcdf
view32[32768] = undefined
heap[65532] = 0x12345678
heap[131068] = 0x-789abcdf
Correctly trap on heap access at 131069
Correctly trap on heap access at 131070
Correctly trap on heap access at 131071
Correctly trap on heap access at 131072
Correctly trap when growing past maximum

WebAssembly.Table tests
Test 0: Expected Error: TypeError: WebAssembly.Table: cannot be called without the new keyword
Test 1: Expected Error: TypeError: 'tableDescriptor' is null or not an object
Test 2: Expected Error: TypeError: 'tableDescriptor' is null or not an object
Test 3: Expected Error: TypeError: 'tableDescriptor' is null or not an object
Test 4: Expected Error: TypeError: tableDescriptor.element is not AnyFunc
Test 5: Expected Error: TypeError: WebAssembly.Table object expected
Test 6: Expected Error: TypeError: WebAssembly.Table object expected
Test 7: Expected Error: TypeError: WebAssembly.Table object expected
Test 8: Expected Error: TypeError: WebAssembly.Table object expected
Test 9: Expected Error: TypeError: WebAssembly.Table object expected
Test 10: Expected Error: TypeError: WebAssembly.Table object expected
Test 11: Expected Error: TypeError: WebAssembly.Table object expected
Test 12: Expected Error: TypeError: WebAssembly.Table object expected
Test 13: Expected Error: TypeError: WebAssembly.Table object expected
Test 14: Expected Error: RangeError: argument out of range
Test 15: Expected Error: RangeError: argument out of range
Test 16: Expected Error: RangeError: argument out of range
Test 17: Expected Error: RangeError: argument out of range
Test 0: Expected Error: RangeError: argument out of range
Test 1: Expected Error: RangeError: argument out of range
Test 2: Expected Error: TypeError: WebAssembly exported function expected
Test 3: Expected Error: TypeError: WebAssembly exported function expected
Test 4: Expected Error: TypeError: WebAssembly exported function expected
Test 5: Expected Error: TypeError: WebAssembly exported function expected
Test 6: Expected Error: TypeError: WebAssembly exported function expected
Test 7: Expected Error: TypeError: WebAssembly exported function expected
Test 8: Expected Error: WebAssemblyRuntimeError: WebAssembly exported function expected
Test 9: Expected Error: WebAssemblyRuntimeError: WebAssembly exported function expected
Test 10: Expected Error: WebAssemblyRuntimeError: WebAssembly exported function expected
Test 11: Expected Error: WebAssemblyRuntimeError: Table index is out of range
Test 12: Expected Error: WebAssemblyRuntimeError: Function called with invalid signature
Test 13: Expected Error: WebAssemblyRuntimeError: Function called with invalid signature
Current length: 30
Length after attempt to modify : 30
Is element in table the same as the one exported: true
Unset element should be null: null
call_i32(0): 123456
call_i32(1): 1
call_f32(2): NaN
call_i32(0): 1
call_i32(29): 123456
call_i32(30): 123456
done
